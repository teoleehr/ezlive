# 📚 ezlive - 실시간 화상강의 플랫폼

WebRTC와 PeerJS를 활용한 P2P 화상 채팅 및 강의 플랫폼입니다.

## ✨ 주요 기능

### 🎥 화상 통화
- WebRTC 기반 실시간 화상 통화
- 다중 참여자 지원 (바둑판식 그리드 레이아웃)
- 비디오/오디오 on/off 기능
- PIP (Picture-in-Picture) 모드
- 개별 화면 전체화면 기능

### 🖥️ 화면 공유
- 전체 화면 또는 창 단위 공유
- 실시간 화면 공유
- 공유 중지 기능

### 💬 실시간 채팅
- 텍스트 메시지 실시간 전송
- 파일 공유 (최대 10MB)
- 채팅 기록 CSV 저장
- 모바일 최적화 채팅창

### ✏️ 판서 도구
- 펜, 지우개, 포인터 모드
- 색상 및 크기 조절
- 다중 페이지 지원
- PNG/PDF 저장 기능
- 전체 지우기

### 🔐 보안 기능
- 교사 비밀번호 인증 (a123456!)
- 학생별 개별 비밀번호 설정
- 강의실 ID 기반 접근 제어

## 📋 파일 구조

```
ezlive/
├── index.html          # 메인 페이지 (교사/학생 선택)
├── teacher.html        # 교사용 강의실 생성
├── student.html        # 학생용 강의 참여
├── room.html          # 화상 채팅 룸
├── room.js            # 화상 채팅 로직
├── whiteboard.html    # 판서 도구
└── README.md          # 사용 설명서
```

## 🚀 사용 방법

### 1. 교사용

1. **메인 페이지**에서 "교사용 화상강의 생성" 선택
2. **교사 비밀번호** 입력: `a123456!`
3. **학생 정보 등록**:
   - 학생 이름 입력
   - 학생별 비밀번호 설정
   - "추가" 버튼 클릭
4. **강의실 생성** 버튼 클릭
5. 생성된 **링크를 학생들에게 공유**
6. "강의실 입장" 버튼으로 입장

### 2. 학생용

#### 방법 1: 링크로 접속
1. 교사가 공유한 링크 클릭
2. 자동으로 강의실 ID 입력됨
3. 이름과 비밀번호 입력
4. "강의실 입장" 버튼 클릭

#### 방법 2: 직접 입력
1. "학생용 강의참여" 선택
2. 강의실 ID 입력
3. 이름과 비밀번호 입력
4. "강의실 입장" 버튼 클릭

### 3. 화상강의실 사용

#### 컨트롤 버튼 (왼쪽 상단)
- **📹 비디오**: 카메라 on/off
- **🎤 오디오**: 마이크 on/off
- **🖥️ 화면공유**: 화면 공유 시작/중지
- **💬 채팅**: 채팅창 보이기/숨기기
- **✏️ 판서도구**: 판서 도구 창 열기
- **💾 저장**: 채팅 기록 CSV 저장
- **🚪 종료**: 강의실 나가기

#### 비디오 화면 제어
- **PIP 버튼**: 작은 창으로 보기
- **전체 버튼**: 해당 화면 전체화면

#### 채팅 기능
- 메시지 입력 후 Enter 또는 "전송" 버튼
- 📎 파일 첨부 버튼으로 파일 공유 (최대 10MB)

#### 판서 도구
- **✏️ 펜**: 그리기
- **🧹 지우개**: 지우기
- **🖱️ 포인터**: 선택/이동
- **색상/크기**: 자유롭게 조절
- **📄 새페이지**: 새 페이지 추가
- **◀️/▶️**: 페이지 이동
- **💾 PNG**: 현재 페이지 이미지 저장
- **📚 PDF**: 전체 페이지 PDF 저장

## 🌐 브라우저 호환성

### ✅ 권장 브라우저
- **Chrome** 80 이상
- **Edge** 80 이상
- **Safari** 14 이상 (iOS/macOS)
- **Firefox** 75 이상

### ⚠️ 제한사항
- **카카오톡 인앱브라우저**: 지원하지 않음 (외부 브라우저로 열기 필요)
- **네이버 인앱브라우저**: 지원하지 않음
- **기타 인앱브라우저**: 카메라/마이크 권한 제한으로 사용 불가

**인앱브라우저에서 접속 시**: 
- 우측 상단 메뉴(⋯) → "외부 브라우저로 열기" 선택
- Chrome 또는 Safari로 실행

## 📱 모바일 지원

- iOS Safari 14 이상
- Android Chrome 80 이상
- 반응형 디자인으로 모바일 최적화
- 터치 제스처 지원 (판서 도구)

## 🔧 기술 스택

- **WebRTC**: 실시간 화상 통신
- **PeerJS**: P2P 연결 관리
- **HTML5 Canvas**: 판서 도구
- **jsPDF**: PDF 생성
- **LocalStorage**: 강의실 데이터 관리

## ⚙️ 설정 및 배포

### 로컬 테스트
```bash
# 간단한 HTTP 서버 실행
python -m http.server 8000
# 또는
npx http-server -p 8000
```

브라우저에서 `http://localhost:8000` 접속

### GitHub Pages 배포
1. GitHub 저장소 생성
2. 파일 업로드
3. Settings → Pages → Source: main branch 선택
4. 생성된 URL로 접속

### 주의사항
- **HTTPS 필수**: WebRTC는 HTTPS 환경에서만 작동
- **로컬 테스트**: localhost는 HTTP도 허용
- **권한 설정**: 브라우저에서 카메라/마이크 권한 허용 필요

## 🐛 문제 해결

### 카메라/마이크 접근 불가
1. 브라우저 설정에서 권한 확인
2. 다른 앱에서 사용 중인지 확인
3. 페이지 새로고침 후 재시도
4. HTTPS 연결 확인

### 연결이 안 될 때
1. 인터넷 연결 확인
2. 방화벽 설정 확인
3. 페이지 새로고침
4. 다른 브라우저로 시도

### 화면 공유가 안 될 때
1. 브라우저 화면 공유 권한 확인
2. Chrome/Edge 권장
3. 공유할 화면/창 선택 확인

## 📞 제한사항

- **동시 접속자**: PeerJS 무료 서버 기준 약 10명 권장
- **파일 크기**: 최대 10MB
- **브라우저**: 최신 버전 권장
- **네트워크**: 안정적인 인터넷 연결 필요

## 🎯 향후 개발 계획

- [ ] 녹화 기능
- [ ] 채팅 내 이미지 프리뷰
- [ ] 손들기 기능
- [ ] 참여자 관리 (강퇴, 음소거)
- [ ] 화이트보드 실시간 공유
- [ ] 모바일 앱 개발

## 📝 라이선스

이 프로젝트는 교육 목적으로 만들어졌습니다.

## 👨‍💻 개발자

ezlive - 실시간 화상강의 플랫폼

---

**시작하기**: `index.html` 파일을 브라우저로 열어주세요! 🚀
